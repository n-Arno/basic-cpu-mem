---
apiVersion: v1
kind: Pod
metadata:
  labels:
    run: cpu-mem
  name: cpu-mem
spec:
  volumes:
  - name: proc
    hostPath:
      path: /proc
  containers:
  - image: ghcr.io/n-arno/basic-cpu-mem:latest
    name: cpu-mem
    volumeMounts:
    - name: proc
      mountPath: /host/proc
      readOnly: true
---
apiVersion: v1
kind: Service
metadata:
  labels:
    run: cpu-mem
  name: cpu-mem
spec:
  ports:
  - port: 80
    protocol: TCP
    targetPort: 80
  selector:
    run: cpu-mem
